@model Rocket_Admin.Models.Student

@{
    ViewBag.Title = "Create";

    //不套master page
    Layout = null;
}
<html lang="en">
<head>
    <meta charset="utf-8" />
    <link rel="apple-touch-icon"
          sizes="76x76"
          href="/Areas/Areas/orid_admin/assets/img/apple-icon.png" />
    <link rel="icon"
          type="image/png"
          sizes="96x96"
          href="/Areas/Areas/orid_admin/assets/img/favicon.png" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <title>火箭隊學習日記-後台</title>
    <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0"
          name="viewport" />
    <meta name="viewport" content="width=device-width" />
    <!-- CSS     -->
    <link href="/Areas/Areas/orid_admin/assets/css/bootstrap.min.css" rel="stylesheet" />
    <link href="/Areas/Areas/orid_admin/assets/css/animate.min.css" rel="stylesheet" />
    <link href="/Areas/Areas/orid_admin/assets/css/paper-dashboard.css" rel="stylesheet" />
    <link href="/Areas/Areas/orid_admin/assets/css/demo.css" rel="stylesheet" />
    <link href="/Areas/Areas/orid_admin/assets/css/font-awesome.min.css" rel="stylesheet" />
    <link href="/Areas/Areas/orid_admin/assets/css/font_muli.css" rel="stylesheet" type="text/css" />
    <link href="/Areas/Areas/orid_admin/assets/css/themify-icons.css" rel="stylesheet" />
    <link href="/Areas/Areas/orid_admin/assets/css/style.css" rel="stylesheet" />
    <style>
        .col-md-6 {
            width: 50%;
        }
        .col-md-12 {
            width: 100%;
        }

    </style>
</head>



@if (ViewBag.close =="true")
{
    <script>
    
        parent.$('.modal').modal('hide');
        parent.location.href = "/Areas/Students/Index";

    </script>    
}

<body>
    <div class="modal-content">
        <div class="modal-header">
            <h5 class="modal-title" id="add_student">
                新增學員
                <button type="button"
                        class="close modal_hide"
                        data-dismiss="modal"
                        aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </h5>
        </div>
        @using (Html.BeginForm(null , null ,FormMethod.Post,new {enctype="multipart/form-data"}))
        {
            @Html.AntiForgeryToken()
            <div class="modal-body">



                <div class="row" style="display: flex; flex-wrap: wrap">
                    <div class="col-md-6">
                        <div class="form-group">

                            <label>梯次</label>
                            <select type="text"
                                    class="form-control border-input"
                                    
                                    name="classNum">
                                <option value="123" selected>請選擇</option>

                                @{
                                    string option = "";
                                    int max = ViewBag.Class;
                                    for (int i = 1; i <= max; i++)
                                    {

                                        option+= $"<option value=\"{i}\">第{i}梯</option>";

                                    }

                                }
                                 @Html.Raw(option)

                               
                            </select>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="form-group">
                            <label>學員名稱</label>
                            
                            
                            <input
                                type="text"
                                class="form-control border-input"
                                value=""
                                name="name"
                                required
                            />

                           
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="form-group">
                            <label>原本職業</label>
                            <input
                                type="text"
                                class="form-control border-input"
                                value=""
                                name="oldOccupation"
                                required
                            />
                            </div>
                    </div>
                    <div class="col-md-6">
                        <div class="form-group">
                            <label>目標職業</label>
                            <input
                                type="text"
                                class="form-control border-input"
                                value=""
                                name="targetOccupation"
                                required
                            />
                        </div>
                    </div>
                    <div class="col-md-12">
                        <div class="form-group">
                            <label>大頭貼</label>
                            <input type="file"
                                   class="form-control border-input"
                                   value="" 
                                   name="upfile"
                                   id="imgInp"/>
                            <small>(建議尺寸： 500px X 500px)</small>
                        </div>
                        <img width="30%"
                             id="preview_progressbarTW_img"
                             style="margin-bottom: 20px;"
                             src="https://fakeimg.pl/500x500"
                             alt="" />
                    </div>
                    

                    <div class="col-md-12">
                        <div class="form-group">
                            <label>狀態</label>
                            <select type="text"
                                    class="form-control border-input"
                                    value=""
                                    name="presence">
                                <option value="" selected>請選擇</option>
                                <option value="1">培訓中</option>
                                <option value="0">結訓</option>
                                <option value="2">退訓</option>
                            </select>
                        </div>
                    </div>
                </div>
                <div class="clearfix"></div>

            </div>
            <div class="modal-footer">
                <button type="button"
                        class="btn btn-secondary modal_hide"
                        data-dismiss="modal"
                        name="close">
                    取消
                </button>
                <button type="submit" class="btn btn-primary">確認</button>
            </div>



        }
    </div>


</body>


<script src="/Areas/Areas/orid_admin/assets/js/jquery-1.10.2.js" type="text/javascript"></script>
<script src="/Areas/Areas/orid_admin/assets/js/bootstrap.min.js" type="text/javascript"></script>
<script src="/Areas/Areas/orid_admin/assets/js/bootstrap-checkbox-radio.js"></script>
<script src="/Areas/Areas/orid_admin/assets/js/bootstrap-notify.js"></script>
<script src="/Areas/Areas/orid_admin/assets/js/paper-dashboard.js"></script>
<script src="/Areas/Areas/orid_admin/assets/js/demo.js"></script>
<script>
    $( ".modal_hide" ).click(function() {
        parent.$('.modal').modal('hide');
    });
</script>

@*同時顯示圖片*@

<script>$("#imgInp").change(function(){
        //當檔案改變後，做一些事 
        readURL(this);   // this代表<input id="imgInp">
    });
</script>
<script>
    function readURL(input){
        if(input.files && input.files[0]){
            var reader = new FileReader();
            reader.onload = function (e) {
                $("#preview_progressbarTW_img").attr('src', e.target.result);
            }
            reader.readAsDataURL(input.files[0]);
        }
    }
</script>
</html>

